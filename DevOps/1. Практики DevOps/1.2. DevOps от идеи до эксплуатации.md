# Урок 2. DevOps: от идеи до эксплуатации

1. Что такое #DevOps 
2. Из чего состоит практика DevOps
3. Ценность DevOps для разработчиков
# Идея DevOps

![[Pasted image 20241010174609.png]]

Практики DevOps – это прямое продолжение гибких методов разработки, таких как Agile, Scrum, Kanban.

Основная идея — совмещение процессов разработки (Dev) и процессов оперативного реагирования, планирования и автоматизации (Ops).

# Культура DevOps

DevOps это не просто методология. Это целая культура, которая позволяет разработчикам и бизнесу работать вместе.

**Ключевые принципы DevOps**

●       Регулярное сотрудничество и общение

Команда должна работать слаженно и понимать потребности всех участников для более эффективной работы. Когда бизнес понимает, какие технологии смогут упростить работу разработки, а разработчики понимают ограничения и специфику бизнес-задачи – качество продукта начинает расти.

●       Постепенное развертывание

Постепенное развертывание позволяет специалистам по CI/CD выпускать продукт, имея возможность обновлять и откатывать его, если что-то пойдет не по плану.

●       Решение проблем на ранних этапах

Различные проблемы, возникающие в процессе разработки продукта, можно устранить еще на ранних этапах, переключившись с реализации новых фич на исправление багов.

●       Общая ответственность

Команда движется к единой цели, и все ее участники в равной мере отвечают за проект. Ответственность за проект возлагается уже не просто на топ-менеджеров, а на всю команду целиком, где каждый участник имеет свою зону ответственности.

# DevOps и автоматизация

Автоматизация — одна из главных задач DevOps.

Автоматизацию всегда рекомендуют вести сверху вниз — от нижних слоев приложения до уже доступного пользователю интерфейса.

Что нужно автоматизировать:

●       Управление инфраструктурой

Первое, что обычно пытаются автоматизировать, это управление инфраструктурой и ее развертывание. Без инфраструктуры не получится построить грамотное приложение или сервис.

●       Релизы ПО

Как только будет решен вопрос автоматизации управления инфраструктуры, важным шагом станет управление релизами и автоматизация их создания, поскольку разработчикам было бы гораздо быстрее и проще автоматически собирать код в готовый продукт без личного участия. Это позволяет сэкономить ресурсы и время для выпуска продукта.

●       Тестирование и развертывание решений

Как правило, параллельно с автоматизацией релизов идет автоматизация тестирования и развертывание решения.

●       Безопасность и Code of Conduct

Помимо работы с автоматизацией нельзя забывать и о безопасности, чтобы обеспечить сохранность кода и наработок, а также реализовать решение, в котором не будет утечек и дополнительных рисков для пользователей.

# Измерение показателей

Эксплуатация и поддержка продукта в рамках DevOps невозможна без мониторинга. Мониторинг бывает разный: сбор метрик по работе инфраструктуры и утилизации ресурсов, сбор и анализ ошибок, заведение тикетов в HelpDesk при их появлении. Такой подход обеспечивает **оперативное реагирование** на инциденты и проблемы с продуктом.

# Что объединяет DevOps

![[Pasted image 20241010174642.png]]

Технически DevOps-подход включает в себя три важных процесса – разработку, эксплуатацию и тестирование. Они должны быть в обязательном порядке проработаны в рамках общей концепции приложения с технической точки зрения, поскольку оказывают серьезное влияние на качество продукта.

# DevOps как подход к разработке: ключевые компоненты

Рассмотрим составляющие части DevOps как подхода к разработке.

## Планирование

Планирование занимает немаловажную роль в процессе, хоть и не является его главным компонентом.

**Методология.** Поможет наладить процесс планирования и отслеживания задач, правильно распределить ресурсы в команде, правильно приоритезировать их назначить необходимые сроки.

●       Система спринтов (2-4 недели)

●       Daily Stand-Up

●       Ретроспектива

**Визуализация.** Покажет, какие задачи в работе, какие еще в ожидании, а какие уже завершены.

●       Scrum/Kanban-доски

●       Груминг задач

●       Визуализация и ведение бэклога

**Инструменты.** Помогут разработчикам отслеживать инциденты, реализовывать методы планирования и документации.

●       Confluence/Wiki

●       Jira

●       Gitlab

●       Miro boards

●       Mind Maps

## Разработка

Касательно разработки всегда существует множество вопросов: стек, IDE, методы проектирования, методики TDD и многое другое. Однако, используя практики DevOps, необходимо придерживаться двух важных принципов.

**Business First.** Ориентация команды разработки на бизнес, а не на технологии выгоднее, ведь бизнес ждет результата, а не долгого и сложного R&D.

**Эффективные инструменты.** Определенный набор ПО поможет разработчикам эффективно решать задачи разработки:

●       VS Code в качестве редактора

●       Postman

●       Git

При выборе инструментов доверьтесь вкусам команды разработки.

## Сборка

Важный «компонент» DevOps, которым нельзя пренебрегать – это сборка. Именно этот этап стоит автоматизировать сразу на первых порах, ведь вам придется собирать код не один, не десять и даже не сто раз. Как оградить разработчиков от этой боли?

**Контейнеризация.** Изолированные приложения в контейнерах позволят сэкономить время на сборку и создание новых проектов.

●       Docker & Docker Compose

●       Универсальные методы для запуска сборки в любой среде

Контейнеризация поможет минимизировать риски и уберечь работу кода от ошибок, которые могут возникнуть из-за смены среды.

**Пайплайны автоматизации.** Обеспечат автоматизированный процесс для сборки приложений в готовый юнит продукта. По описанному алгоритму получится собрать код с помощью всего лишь одной команды.

**Dev/Test/Prod-среды.** Разделение на Dev/Test/Prod-среды позволит поэкспериментировать с приложением перед тем, как запустить его в продуктив.

## Тестирование

На этапе тестирования проверяется работоспособность и пригодность написанного для приложения кода. Хороший тон — писать тесты на каждый метод или функцию.

**Важность тестирования.** Покрытие продукта тестами обеспечивает низкое количество багов в релизной версии и позволяет улучшить качество продукта.

**Автоматизация.** Перед релизом код должен автоматически тестироваться в разных средах. Это экономит время разработчиков при поиске ошибок и проблемных мест.

**Отслеживание инцидентов.** По мере прогона тестов необходимо фиксировать неисправности и заводить багфиксы в общий бэклог для спринта.

## CI/CD

Помимо автоматизации сборки также необходимо выстроить стратегию доставки собранного кода на выделенные среды. Это и есть CI/CD — непрерывная интеграция (continuous integration) и непрерывная доставка/развертывание (continuous delivery/continuous deployment).

**Непрерывная интеграция (CI)** — набор практик, при которых в код вносятся определенные изменения с частыми коммитами. Цель CI — обеспечить последовательный и автоматизированный процесс сборки, упаковки и тестирования.

**Непрерывная доставка (CD)** — автоматизация поставки изменений в код. Автоматическое развертывание в целевое окружение сокращает время тестирования и выпуска продукта.

Непрерывная интеграция обеспечивает автоматизацию сборки, упаковки и тестирования кода, а непрерывная доставка – автоматизацию выгрузки собранного пакета в тестовую или рабочую среду.

**Как CI/CD влияет на качество продукта?**

CI/CD повышает качество продукта, поскольку позволяет оперативно выявлять и исправлять проблемы при небольших изменениях.

## Эксплуатация и мониторинг

После доставки начинается самое волнительное – эксплуатация продукта. Как правило, на практике все может пойти не так по самым разным причинам, будь то ошибка среды или дефект кода.

Такие вещи предугадать невозможно. Однако всегда можно держать руку на пульсе. Поможет в этом правильно подготовленный мониторинг, который должен охватить сразу все уровни – от инфраструктуры до сайта или мобильного приложения.

**Мониторинг инфраструктуры.** Оперативный анализ работы инфраструктуры для отслеживания неисправностей, перегрузок и моментального реагирования.

**Мониторинг на уровне приложений.** Визуализация работы продукта на уровне разрабатываемого кода с целью повышения качества продукта и сбора данных об ошибках.

**Реакция на проблемы.** Масштабирование инфраструктуры и приложений, откат версий приложений при наличии багов, выявление проблем и ошибок в коде.

Комплексный мониторинг поможет собрать максимум информации, вовремя отловить ошибки, завести необходимые инциденты и решить проблемы в кратчайшие сроки, а значит – не потерять своих клиентов.

# Подведем итоги

●       Практики DevOps – это прямое продолжение гибких методов разработки, таких как Agile, Scrum, Kanban.

●       Основная идея DevOps — совмещение процессов разработки (Dev) и процессов оперативного реагирования, планирования и автоматизации (Ops).

●       Ключевые принципы DevOps: регулярное сотрудничество и общение, постепенное развертывание, решение проблем на ранних этапах, общая ответственность.

●       Автоматизация — одна из главных задач DevOps. Ее рекомендуют вести сверху вниз — от нижних слоев приложения до пользовательского интерфейса.

●       В DevOps автоматизируют управление инфраструктурой, релизы ПО, тестирование и развертывание, безопасность и Code of Conduct, управление конфигурацией.

●       Эксплуатация и поддержка продукта в рамках DevOps невозможна без мониторинга. Мониторинг различных метрик обеспечивает быстрое реагирование на инциденты и оперативное решение проблем.

●       DevOps как подход к разработке включает: планирование, разработку, сборку, тестирование, CI/CD, эксплуатацию и мониторинг.

# Ссылки 
- [Содержание](DevOps.md)