# docker команды

- `docker run -d -p 80:80 docker/getting-started`

	- docker  - выполняем через docker
	- run - позволяет запустить контейнер
		если контейнера не будет, то она докачает его
	
	- **`-d`** (--detach) — флаг для запуска контейнера в фоновом режиме (detached mode), то есть контейнер будет работать в фоне, а не привязываться к вашему терминалу.
	- **`-p 80:80`** (--publish list) — указывает, что вы мапите (пробрасываете) порт 80 на вашем хосте (первое число) к порту 80 внутри контейнера (второе число). Это означает, что вы сможете получить доступ к приложению, которое работает на порту 80 в контейнере, через порт 80 вашего компьютера (например, через браузер по адресу`http://localhost`).
	- **`docker/getting-started`** — имя образа Docker, на основе которого будет создан контейнер. В данном случае это официальный обучающий образ от Docker, который помогает освоить работу с платформой Docker.
	
	Итог: эта команда запускает обучающее приложение от Docker на вашем компьютере, делая его доступным по адресу `http://localhost`

- `docker pull` 
	позволяет скачать проект/контейнер

- `docker info`

	Команда `docker info` отображает подробную информацию о текущей конфигурации и состоянии Docker-среды на вашем компьютере. Она показывает общие данные о Docker-дэмоне и системе. Вот основные разделы, которые выводятся командой:
	
	### Основная информация:
	
	- **Containers**: количество контейнеров (всего, запущенных, остановленных).
	- **Images**: количество локально хранящихся образов.
	- **Storage Driver**: драйвер хранения, который Docker использует для управления слоями образов.
	- **Logging Driver**: драйвер, используемый для ведения логов.
	- **Cgroup Driver**: драйвер для управления группами контролируемых ресурсов (control groups).
	
	### Системная информация:
	
	- **Operating System**: информация о системе, на которой работает Docker (например, дистрибутив Linux, версия Windows или macOS).
	- **Kernel Version**: версия ядра операционной системы.
	- **Architecture**: архитектура процессора (например, x86_64).
	- **CPUs**: количество доступных процессорных ядер.
	- **Total Memory**: объем оперативной памяти, доступной Docker.
	
	### Сетевая информация:
	
	- **Network**: информация о настройках сети, используемых контейнерами (например, мостовые сети).
	- **Registry**: зарегистрированные реестры Docker для загрузки и выгрузки образов (например, Docker Hub).
	
	### Дополнительная информация:
	
	- **Swarm**: статус режима Docker Swarm (активен или нет).
	- **Runtimes**: поддерживаемые среды выполнения контейнеров (например, runc).
	- **Default Runtime**: текущая среда выполнения контейнеров по умолчанию.
	- **Security Options**: параметры безопасности, такие как AppArmor или SELinux.

- `docker images`
	выводит список всех локально сохраненных Docker-образов на вашем компьютере. Эти образы могут быть использованы для создания и запуска контейнеров.
	
	**Основные параметры вывода:**
	- **REPOSITORY**: имя репозитория образа (например, `ubuntu`, `nginx`, `node`).
	- **TAG**: тег образа, который обычно обозначает версию образа (например, `latest`, `1.0`, `stable`).
	- **IMAGE ID**: уникальный идентификатор образа, который используется Docker для управления образами.
	- **CREATED**: когда образ был создан.
	- **SIZE**: размер образа.
	
	### **Полезные опции:**
	- **`-a`** или **`--all`**: показывает все образы, включая промежуточные образы (те, которые используются в процессе сборки, но не имеют собственного тега).
	- **`--filter`**: фильтрует образы по определённым критериям, например, по тегу или размеру.
	- **`--format`**: выводит информацию в определённом формате.
	
	### **Пример использования:**
	- **`docker images -a`** — показать все образы, включая промежуточные.
	- **`docker images --filter dangling=true`** — показать только неиспользуемые образы (которые не привязаны к какому-либо контейнеру).

- `docker ps`
	выводит список всех запущенных контейнеров на вашем компьютере. Она показывает информацию о текущем состоянии работающих контейнеров.
	
	### **Основные параметры вывода:**
	- **CONTAINER ID**: уникальный идентификатор запущенного контейнера.
	- **IMAGE**: имя Docker-образа, на основе которого был запущен контейнер.
	- **COMMAND**: команда, которая была запущена внутри контейнера.
	- **CREATED**: время, когда контейнер был создан и запущен.
	- **STATUS**: текущее состояние контейнера (например, `Up 2 hours` — контейнер запущен 2 часа).
	- **PORTS**: список портов, проброшенных между контейнером и хостом.
	- **NAMES**: имя контейнера, которое может быть либо сгенерировано Docker, либо задано пользователем.
	
	### **Полезные опции:**
	- **`-a`** или **`--all`**: показывает все контейнеры, включая остановленные.
	- **`-q`** или **`--quiet`**: выводит только идентификаторы контейнеров.
	- **`--filter`**: фильтрует контейнеры по различным параметрам (например, по статусу, имени образа).
	- **`--format`**: форматирует вывод по вашему усмотрению.
	
	### **Примеры использования:**
	- **`docker ps -a`** — показать все контейнеры, включая остановленные.
	- **`docker ps -q`** — показать только ID контейнеров.
	- **`docker ps --filter status=exited`** — показать только контейнеры, которые были завершены.

- `docker stop`
	используется для остановки работающих контейнеров. Она отправляет сигнал SIGTERM в контейнер, запуская процесс корректного завершения его работы, и через некоторое время (по умолчанию 10 секунд) отправляет сигнал SIGKILL, если контейнер не завершил работу.
	
	`docker stop [OPTIONS] CONTAINER [CONTAINER...]`
	**CONTAINER** — это имя или идентификатор (ID) контейнера, который вы хотите остановить. Вы можете остановить несколько контейнеров, указав их имена или ID через пробел.
	
	**`-t` или `--time`**: задает время (в секундах), которое Docker будет ждать перед отправкой сигнала SIGKILL, если контейнер не завершится после SIGTERM (по умолчанию 10 секунд).

- `docker start [CONTAINER...]`
- `docker pause [CONTAINER...]`/ `docker unpause [CONTAINER...]`
- `docker restart [CONTAINER...]`

- `docker login` — авторизация в терминале в аккаунт docker
- `docker log out` — выход из учетной записи

- `docker pull [образ]:[version]` 
	для скачивания определенной версии смотреть в документации например на docker hub

- `docker run`
	запустить образ без контейнера нельзя, создается автоматически контейнер и выключиться

- `docker run -it [образ]`
	Любой образ можно запустить в интерактивном режиме, чтобы сразу взаимодействовать с ним.
	Выполнив эту команду будет всегда создаваться новый контейнер, поэтому нужно выполнять команду...
- `docker run -it --name [название_контейнера] [образ]` (контейнер останется запущенным).
	Выход из интерактивного режима `ctrl + D`
	Преимущество создания контейнера с `--name` — его можно запускать

- `docker kill [название_контейнера]`... (exited 137)
	используется для немедленного завершения работы контейнера, отправляя ему сигнал **SIGKILL** (по умолчанию). В отличие от команды `docker stop`, которая сначала пытается корректно завершить контейнер через сигнал **SIGTERM**, команда `docker kill` немедленно прерывает процесс.
		**`-s` или `--signal`**: отправляет контейнеру другой сигнал вместо **SIGKILL** (по умолчанию). Вы можете указать любой другой сигнал, поддерживаемый системой (например, **SIGTERM**, **SIGHUP** и т.д.). 

- docker build

# Dockerfile

```Dockerfile
FROM openjdk (openjdk:latest)
COPY . /java
WORKDIR /java
RUN javac Main.java
CMD [ "java", "Main" ]
```

`docker build` . - собираем образ. Здесь же вместо точки должен идти полный путь к файлу Dockerfile.
`dokcer run "название_образа"` - запускаем контейнер 

**Dockerfile** состоит из нескольких основных команд:

- `FROM` – указывает какой образ вы будете стягивать (скачивать). Тут же можно указать версию образа
- `WORKDIR` – указывает рабочую папку
- `COPY` – указывает какие файлы из вашего проекта будут скопированы на хост машину. Другими словами, указывает какие файлы будут выполнены за счет возможностей образа
- `EXPOSE` – указывает порт для проекта. Будет работать в том случае, если в образе есть локальный сервер
- `RUN` – позволяет описать команду, что выполниться один раз при сборке всего контейнера
- `CMD` – описывает команду, что выполняется каждый раз при старте контейнера

# docker compose

Docker Compose представляет из себя отдельный файл, в котором вы можете описать все характеристики относительно образов. Вы можете указать какие образы будут подключены, какие у них будут характеристики, возможности и так далее.

Огромным преимуществом Docker Compose является возможность подключения сразу многих образов.
